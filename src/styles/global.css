@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        --r-subtle-grad-stops: #fff, hsl(43 92% 50% / 0.1);
        --r-subtle-grad-bottom: linear-gradient(to bottom, var(--r-subtle-grad-stops));
        --r-backdrop-swap: hsla(43, 92%, 50%, 0.06);
        --r-primary: #19191A;
        --r-accent: 159 118 15;
        --r-interface-jet: #E0E0E0;
        --r-interface-backdrop: #F4F5F8;
        --r-contrast-text: #1E1E1F;

        @media (prefers-color-scheme: dark) {
            --r-subtle-grad-stops: hsl(240, 7%, 6%), hsl(43 92% 50% / 0.05);
            --r-backdrop-swap: hsla(44.21, 90.48%, 4.12%, 0.5);
            --r-primary: #F4F5F8;
            --r-accent: 154 114 14;
            --r-interface-jet: #292929;
            --r-interface-backdrop: #19191A;
            --r-contrast-text: #C1C1C3;
        }
    }

    html.is-changing .swup-in { @apply opacity-100 duration-[.4s] ease-[cubic-bezier(0,0.16,0,1)]; }
    html.is-animating .swup-in { @apply translate-y-8 scale-[.99] opacity-0 ease-in; }
    .swup-progress-bar { @apply h-1 bg-accent-400; }
    body {
        @apply relative bg-[var(--r-interface-backdrop)] text-[var(--r-contrast-text)] prose-headings:text-[var(--r-primary)] prose-strong:text-[var(--r-primary)] prose-ol:text-[var(--r-contrast-text)];
        &::before {
            content: '';
            background-color: var(--r-interface-jet);
            mask-image: url('data:image/svg+xml,<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><circle cx="1" cy="1" r="1" /></svg>');
            @apply fixed -inset-3 z-[-1] opacity-60;
        }
    }
    button { text-align: inherit; }
    svg { @apply pointer-events-none flex-shrink-0 fill-current; }
}

@layer components {
    .r-transition {
        @apply transition duration-[.3s] ease-out;
    }
}

@layer utilities {
    .r-pt { @apply pt-16 sm:pt-20 lg:pt-24; }
    .r-pb { @apply pb-16 sm:pb-20 lg:pb-24; }
    .r-py { @apply py-16 sm:py-20 lg:py-24; }

    .r-contrast { @apply contrast-[1.2] brightness-[0.8]; }
}