---
import { marked } from '@scripts/lib/marked-setup'

const {
	tag: Tag = 'span',
	content,
	size = 'sm',
	uppercase,
	weight = 'regular',
	italic,
	tighten,
	loosen,
	color = 'default',
	dim,
	dimmer,
	dimmest,
	class: classes,
	...props
} = Astro.props
const inlineContent = marked.parseInline(content)
---

<Tag
	set:html={inlineContent}
	{...props}
	class:list={[
		// Font Sizes
		size === 'sm' && 'text-sm',
		size === 'base' && 'text-base !leading-[1.45rem]',
		size === 'md' && 'text-md lg:text-lg',
        size === 'mdx' && 'text-3xl leading-10 md:text-4xl md:leading-tight lg:text-5xl lg:leading-tight',
		size === 'xl' && 'text-xl sm:text-2xl',

		// Font Weights
		weight === 'regular' && 'font-normal',
		weight === 'medium' && 'font-medium',
		weight === 'semi' && 'font-semibold',
		weight === 'bold' && 'font-bold',
		weight === 'extra' && 'font-extrabold',

		// Colors
		color === 'default' && 'r-surface-copy',
		color === 'strong' && 'r-surface-strong',
		color === 'accent' && 'r-surface-accent',
		color === 'neutral' && 'text-black dark:text-white',
		color === 'on-pastel' && 'text-zinc-900',

		// Booleans
		uppercase && 'uppercase',
		tighten && '-tracking-[0.0225em]',
		loosen && 'tracking-[0.085em]',
		italic && 'italic',
		dim && 'opacity-90',
		dimmer && 'opacity-70',
		dimmest && 'opacity-40',

		// Classes Passed In
		classes,
	]}
/>
